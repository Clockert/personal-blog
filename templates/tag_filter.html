{% extends "base.html" %} {% block title %}Posts tagged "{{ tag }}" - My Blog{%
endblock %} {% block content %}
<div class="posts-container">
  <div class="tag-filter-header">
    <h2>Posts tagged with <span class="tag-highlight">"{{ tag }}"</span></h2>
    <a href="/" class="back-link">← All posts</a>
  </div>

  {% if posts %} {% for post in posts %}
  <a href="/post/{{ post.id }}" class="post-preview-link">
    <article class="post-preview">
      {% if post.image_url %}
      <div class="post-image">
        <img src="{{ post.image_url }}" alt="{{ post.title }}" />
      </div>
      {% endif %}

      <div class="post-heading">
        <h3>{{ post.title }}</h3>
        <p class="post-meta">Published on {{ post.date|norwegian_date }}</p>

        {% if post.tags %}
        <div class="post-tags">
          {% for tag in post.tags.split(', ') %}
          <span class="tag" onclick="event.stopPropagation(); event.preventDefault(); window.location.href='/tag/{{ tag }}';">{{ tag }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <p class="post-excerpt">{{ post.excerpt }}</p>

      <span class="read-more">Read more →</span>
    </article>
  </a>
  {% endfor %} {% else %}
  <div class="no-posts">
    <p>No posts found with the tag "{{ tag }}".</p>
    <a href="/" class="btn-secondary">← Back to all posts</a>
  </div>
  {% endif %}
</div>
{% endblock %}
