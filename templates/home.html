{% extends "base.html" %} {% block title %}Home - My Blog{% endblock %} {% block
content %}
<div class="posts-container">
  <div class="posts-header">
    <h2>Recent Posts</h2>
    {% if session.logged_in %}
    <a href="/post/new" class="btn-new-post">+ New Post</a>
    {% endif %}
  </div>

  <!-- Browse by Tags Section -->
  {% if tags %}
  <div class="tags-browse">
    <h3 class="tags-toggle" onclick="toggleTags()">
      <span class="toggle-content">
        <span class="material-symbols-outlined">label</span>
        Browse by Tag
      </span>
      <span class="material-symbols-outlined chevron" id="chevron"
        >expand_more</span
      >
    </h3>
    <div class="tags-list" id="tagsList" style="display: none">
      {% for tag in tags %}
      <a href="/tag/{{ tag }}" class="tag tag-browse">{{ tag }}</a>
      {% endfor %}
    </div>
  </div>
  {% endif %} {% for post in posts %}
  <article class="post-preview">
    {% if post.image_url %}
    <div class="post-image">
      <img src="{{ post.image_url }}" alt="{{ post.title }}" />
    </div>
    {% endif %}

    <div class="post-heading">
      <h3>{{ post.title }}</h3>
      <p class="post-meta">Published on {{ post.date }}</p>

      {% if post.tags %}
      <div class="post-tags">
        {% for tag in post.tags.split(', ') %}
        <a href="/tag/{{ tag }}" class="tag">{{ tag }}</a>
        {% endfor %}
      </div>
      {% endif %}
    </div>

    <p class="post-excerpt">{{ post.excerpt }}</p>

    <a href="/post/{{ post.id }}" class="read-more">Read more â†’</a>
  </article>
  {% endfor %}
</div>
{% endblock %}
